# 수익 캘린더 구현 (2025-11-27)

## 1. 개요
매매 성과를 직관적으로 파악할 수 있도록 대시보드에 **수익 캘린더(Profit Calendar)**를 추가했습니다.
달력 형태로 일별 손익을 시각화하여, 사용자가 한 달의 매매 흐름을 한눈에 볼 수 있게 되었습니다.

## 2. 주요 변경 사항

### 2.1 프론트엔드
- **라이브러리 추가**: `react-calendar` (v5.0.0)
- **신규 컴포넌트**: `ProfitCalendar.tsx`
  - 월별 달력 뷰 제공
  - 날짜별 손익 금액 표시
  - 수익(초록)/손실(빨강)에 따른 배경색 및 텍스트 색상 구분
  - 오늘 날짜 강조 스타일링
- **유틸리티 추가**: `chartUtils.ts` -> `aggregateByDate`
  - `Trade` 데이터에서 `exitDate`를 기준으로 일별 손익을 집계하는 로직 구현
- **대시보드 통합**: `DashboardChart.tsx`
  - 종목별 분포 차트 하단에 수익 캘린더 배치
  - 모바일 반응형 레이아웃 적용 (grid 시스템 활용)
- **다국어 지원**:
  - `ko.json`, `en.json`에 캘린더 관련 번역 키(`calendar.title`) 추가

## 3. 상세 구현 내용

### 3.1 날짜별 손익 집계
`exitDate`가 존재하는(청산된) 매매 기록만을 대상으로 하며, 같은 날짜에 여러 매매가 있을 경우 손익을 합산합니다.

```typescript
export function aggregateByDate(trades: Trade[]): Map<string, number> {
    const dateMap = new Map<string, number>();
    trades.forEach((trade) => {
        if (!trade.exitDate || trade.realizedPnl === null) return;
        const dateStr = new Date(trade.exitDate).toISOString().split('T')[0];
        // ... 합산 로직
    });
    return dateMap;
}
```

### 3.2 UI 스타일링
Tailwind CSS를 사용하여 직관적인 색상 코드를 적용했습니다.
- **수익 (+)**: `bg-green-50`, `text-green-700`
- **손실 (-)**: `bg-red-50`, `text-red-700`
- **데이터 없음**: 기본 스타일

## 4. 기대 효과
- 사용자는 자신의 매매 패턴(수익이 연속되는지, 손실이 특정 요일에 집중되는지 등)을 시각적으로 파악할 수 있습니다.
- 붉은색(손실) 날짜를 줄이고 초록색(수익) 날짜를 늘리려는 심리적 동기 부여를 제공합니다.
